<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BiasGuard – Submit Model</title>

  <!-- Use your page-specific CSS if you have it; falls back to styles.css -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles3.css') }}">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/logo.png') }}" />
  <style>
    /* tiny safety styles if styles3.css is missing */
    body { font-family: system-ui, Arial, sans-serif; }
    .container { max-width: 880px; margin: 2rem auto; padding: 1.25rem; }
    form label { display:block; margin-top:1rem; font-weight:600; }
    form input, form select { width:100%; padding:.75rem; margin-top:.5rem; }
    button { margin-top:1.25rem; padding:.8rem 1.25rem; cursor:pointer; }
    .flash { padding:.75rem 1rem; border-radius:6px; margin-bottom:1rem; }
    .flash.error { background:#ffe8e8; color:#9c1a1a; border:1px solid #ffc9c9; }
    .flash.success { background:#e8ffe9; color:#156b2b; border:1px solid #c9ffd0; }
    .nav { display:flex; justify-content:space-between; align-items:center; padding:1rem 0; }
    .nav a { text-decoration:none; }
  </style>
</head>
<body>
  <header class="header">
    <div class="container nav">
      <a href="{{ url_for('home') }}" class="logo"><span style="font-weight:800;">B</span>iasGuard</a>
      <nav class="navbar">
        <a href="{{ url_for('home') }}">Home</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Submit Dataset</h1>
    <p>Upload a CSV dataset, specify your <strong>target</strong> and <strong>sensitive</strong> columns, then choose a model. We’ll compute fairness metrics, plot selection rates, and generate a PDF report.</p>

    <!-- Flask flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- IMPORTANT: method POST + enctype multipart + correct names -->
    <form action="{{ url_for('results') }}" method="POST" enctype="multipart/form-data" id="submitForm">
      <label for="csvFile">Upload CSV File</label>
      <input type="file" id="csvFile" name="dataset" accept=".csv" required />

      <label for="targetColumn">Target Column (as in your dataset)</label>
      <input type="text" id="targetColumn" name="target_col" placeholder="e.g., hired" required />

      <label for="sensitiveColumn">Sensitive Column (as in your dataset)</label>
      <input type="text" id="sensitiveColumn" name="sensitive_col" placeholder="e.g., gender" required />

      <label for="modelName">Select Model</label>
      <select id="modelName" name="model_name" required>
        <option value="LogisticRegression">Logistic Regression</option>
        <option value="RandomForest">Random Forest</option>
      </select>

      <button type="submit">Run Bias Analysis</button>
    </form>
  </main>
</body>
</html>
